/**
 * heliosRX v0.2.4
 * (c) 2020 Thomas Weustenfeld
 * @license MIT
 */
/**
 * heliosRX v0.2.4
 * (c) 2020 Thomas Weustenfeld
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue"),require("vuex")):"function"==typeof define&&define.amd?define(["vue","vuex"],t):(e=e||self).heliosRX=t(e.Vue,e.Vuex)}(this,(function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=r((function(e){var t,r;t=n,r=function(){var e=function(){},t="undefined"!=typeof window&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?i:void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):e)}function a(t,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function s(e,t,n){return function(){"undefined"!=typeof console&&(a.call(this,t,n),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||s.apply(this,arguments)}function u(e,t,r){var i,o=this,s="loglevel";function u(){var e;if("undefined"!=typeof window){try{e=window.localStorage[s]}catch(e){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}e&&(s+=":"+e),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||c,o.getLevel=function(){return i},o.setLevel=function(t,r){if("string"==typeof t&&void 0!==o.levels[t.toUpperCase()]&&(t=o.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(i=t,!1!==r&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}(t),a.call(o,t,e),"undefined"==typeof console&&t<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){u()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var l=u();null==l&&(l=null==t?"WARN":t),o.setLevel(l,!1)}var l=new u,d={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,l.getLevel(),l.methodFactory)),t};var f="undefined"!=typeof window?window.log:void 0;return l.noConflict=function(){return"undefined"!=typeof window&&window.log===l&&(window.log=f),l},l.getLoggers=function(){return d},l},e.exports?e.exports=r():t.log=r()})),o="store/subscribe",a="store/subscurbe/query",s="store/subscribe/details",c="store/subscribe/init",u="store/unsubscribe",l=Object.freeze({__proto__:null,WARNING_DEFINE_UNKNOWN_PROP:"store/define-unknown-prop",WARNING_RESET_MAX_DEPTH:"store/reset-max-depth-reached",WARNING_NO_CREATE_FUNCTION:"model/no-create-function",WARNING_INVALID_ID:"model/invalid-id",WARNING_EMPTY_SCHEMA:"model/empty-schema",WARNING_UKNONWN_VALIDATION_TYPE:"model/unknown-validation-type",WARNING_MODEL_INVALID_MOMENT:"model/invalid-moment",WARNING_MODEL_OTHER:"model/other",WARNING_NO_SCHEMA:"model/no-schema",WARNING_NAME_CONFLICT:"model/no-name-conflict",WARNING_CLIENT_VALIDATION:"model/client-validation-failed",WARNING_UNKNOWN_TIMESTAMP_TYPE:"model/unknown-timestamp-type",WARNING_WRITING_UNDEFINED:"model/writing-undefined",WARNING_INVALID_TIMESTAMP_SERVER:"model/invalid-timestamp-from-server",WARNING_MOMENT_INVALID_DATE:"moment/invalid-date",WARNING_DEPRECATED:"common/deprecated",WARNING_COMMON:"common/common",WARNING_SYNCING_SUBSET_DATA:"read/sync-subset-data",WARNING_SYNCING_INDIVIDUAL:"read/sync-individial-but-list-supported",WARNING_SYNCING_EXISTING_QUERY_PATH:"read/sync-existing-query-path",WARNING_ACCESSING_UNSYNCED_DATA:"read/accessing-unsynced-data",WARNING_PERMISSION_DENIED:"read/permission-denied",INFO_COMMON:"common",INFO_MODEL:"model",INFO_COLLECTION:"collection",INFO_STORE:"store",INFO_STORE_WRITE:"store-write",INFO_MOMENT:"moment",INFO_REGISTRY:"registry",INFO_DEEPMERGE:"deep-merge",INFO_PERMISSION:"permission",INFO_AUTO_UNSUBSCRIBE:"store/unsubscribe/auto",INFO_SUBSCRIBE:o,INFO_SUBSCRIBE_QUERY:a,INFO_SUBSCRIBE_DETAILS:s,INFO_READ_INIT:c,INFO_READ_REMOVE:u});i.noConflict(),i.setDefaultLevel("warn"),i.setLevel("warn");var d={};function f(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=i.getLogger(e)).warn.apply(t,n)}function h(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var o=d[e]||e;return(t=i.getLogger(e)).info.apply(t,["["+o+"]"].concat(n))}function m(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var o=d[e]||e;return(t=i.getLogger(e)).info.apply(t,["["+o+"]"].concat(n))}function _(e){return"[object String]"===Object.prototype.toString.call(e)}function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function v(e){return null!=e}function y(e){return"object"==typeof e&&null!==e}function g(e){return Array.isArray(e)}d.common="heliosRX",d.model="heliosRX",d.collection="heliosRX",d.store="heliosRX",d["store-write"]="heliosRX:write",d.moment="heliosRX:moment",d.registry="heliosRX:REGISTRY",d["deep-merge"]="heliosRX:DEEPMERGE",d.permission="heliosRX:permission",d["store/unsubscribe/auto"]="heliosRX:auto-unsubscribe",d[o]="heliosRX:subscribe",d[s]="heliosRX:subscribe",d[a]="heliosRX:query",d[c]="heliosRX:moment",d[u]="heliosRX:moment",i.getLogger("read/sync-individial-but-list-supported").setLevel("silent");var b,w={database:{ServerValue:{TIMESTAMP:{".sv":"timestamp"}}},firestore:{FieldValue:{serverTimestamp:function(){throw new Error("Not Implemented")}}}},E=require("moment-timezone/builds/moment-timezone-with-data-2012-2022.min.js");b=process.browser?window.localStorage:{getItem:function(){return"Europe/Berlin"},setItem:function(){}};var A=function(e,t){var n=e.clone().utc().format(),r=n.substring(0,n.length-1);return E.tz(r,t)};!function(){h("moment","set up"),h("moment","localStorage.getItem('timezone')",b.getItem("timezone")),b.getItem("timezone")||b.setItem("timezone",E.tz.guess());var e=b.getItem("timezone");h("moment","Setting user timezone to",e),E.tz.setDefault(e),E.user_timezone=e,function(e){h("moment","enhanceMomentJS"),e.isEnhanced=!0,e.prototype.isEnhanced=!0,e.fromFirestore=function(t){return t&&"object"==typeof t&&"Timestamp"===t.constructor.name?e(t.toDate()):e(t)},e.fromRealtimeDB=function(t){return e.unix(t)},e.fromRealtimeServerTime=function(t){return e(t)},e.fromStore=function(t){return e(t)},e.prototype.toFirestore=function(){return w.firestore.Timestamp.fromDate(this.toDate())},e.prototype.toRealtimeDB=function(){return this.unix()},e.prototype.toRealtimeServerTime=function(){return this.valueOf()},e.prototype.toBackend=function(e){return"REALTIMEDB"===e?this.toRealtimeDB():this.toFirestore()},e.prototype.toStore=function(){return this.format()},e.prototype.formatDateLong=function(){return this.format(this.user_dateformat)},e.prototype.isTimezoneNeutral=!1,e.fromDateAndTime=function(t,n){if(!n)throw new Error("Not implemented");var r=e.tz(t+"T"+n,e.user_timezone);return r.isTimezoneNeutral=!0,r},e.fromTimezoneNeutral=function(t){if(!e.isValidDate(t))return f("moment/invalid-date","[fromTimezoneNeutral]","Invalid date",t),null;if(!t.isTimezoneNeutral)throw new Error("Input is not timezone neutral");return A(t,e.user_timezone)},e.prototype.changeTimezoneButKeepTime=function(e){return A(this,e)},e.isValidDate=function(t){return t&&e.isMoment(t)&&!!t.isEnhanced&&t.isValid()},e.currentTime=function(){if(!e.user_timezone)throw new Error("User timezone is not set");return e().tz(e.user_timezone)},e.currentTimeUTC=function(){return e().utc()},e.currentDate=function(){return e().tz(e.user_timezone).startOf("day")},e.currentDateISO=function(){e().tz(e.user_timezone).format("YYYY-MM-DD")},e.currentDateSleepCorrected=function(){return e().tz(e.user_timezone).subtract(3,"hours").startOf("day")},e.currentCalendarweek=function(){return e().tz(e.user_timezone).format("W")},e.currentTimeServer=function(e){return"REALTIMEDB"===e?w.database.ServerValue.TIMESTAMP:w.firestore.FieldValue.serverTimestamp()},e.convertHHmmToFractional=function(t){return(e(t,"HH:mm")-e().startOf("day"))/3600/1e3},e.convertFractionalToHHmm=function(t){return e.utc(3600*t*1e3).format("HH:mm")},e.parseTimeNatural=function(t,n){void 0===n&&(n=null);if(!(t=(t||"").trim()))return null;if("+"===t[0]||"-"===t[0]){var r="-"===t[0]?-1:1,i=t.slice(1);/[mhs]/i.test(i)||(i+="m");if(!null.match)return null;var o=r*null.duration;return e(n,"HH:mm").add(o,"seconds")}return"now"===t?e():e(t,["HH:mm","HH:mm A","HH A","HH"])},process.browser&&(window.moment=e)}(E)}();var R={CUSTOM:1,SLUGID:2,PUSHID:3,TIMESTAMP:4,LOCAL_TIMESTAMP:5,DATE:6,OTHER_USER_ID:7,MY_USER_ID:8,ARRAY:9,EMAIL:10},I={SOFT:0,HARD:1};function O(e,t,n){return e.replace(/\{.+?}/g,(function(e){return function(e,t,n){return void 0===n&&(n="{"+e+"}"),e.split(".").reduce((function(e,t){return e[t]||n}),t)}(e.substr(1,e.length-2).trim(),t,n)}))}function j(e){return(e.match(/\{.+?}/g)||[]).map((function(e){return e.slice(1,-1)}))}var S,N=e,D=t,T={};function $(e){e.Vue&&(N=e.Vue),e.Vuex&&(D=e.Vuex),e.Firebase&&e.Firebase,e.registry&&(S=e.registry),e.models&&(T=e.models),e.db&&e.db}var x={configure:function(e){var GenericList=e.GenericList,GenericModel=e.GenericModel;this.GenericList=GenericList,this.GenericModel=GenericModel},make_reactive_list:function(e,t,n,r){void 0===r&&(r=!1);var i=n.model.name,o=new this.GenericList(i);if(t){for(var a in t){var s=this.make_reactive_model(e,t[a],n);s.$id=a,s._update_data(t[a],e.schema.fields),o._add_child(a,s)}o.$readyAll=!0,o.$numReady=Object.keys(t).length}return e.listActions&&o._decorate_actions(e.listActions,n),!e.listGetters||r||e.no_reactive_getters||o._decorate_getters(e.listGetters,n),N.observable(o),o},make_reactive_model:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);var o=n.model.name,a=new this.GenericModel(null,null,o);return a._set_generic_store(n.model),e.schema&&e.schema.fields?a._autogenerate_props(e.schema.fields,t,r):f("model/no-schema","Making a reactive model without schema. This means props are not autogenerated and only accessible through model.$state. Please provide a schema for "+o+"."),t&&(a._update_data(t,e.schema.fields),a.$ready=!0),e.modelActions&&a._decorate_actions(e.modelActions,n),!e.modelGetters||i||e.no_reactive_getters||a._decorate_getters(e.modelGetters,n),N.observable(a),a}},M=r((function(e,t){var r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="[object Map]",s="[object Set]",c=/\w*$/,u=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,d={};d[r]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object DataView]"]=d["[object Boolean]"]=d["[object Date]"]=d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d[a]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d[s]=d["[object String]"]=d["[object Symbol]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Error]"]=d[i]=d["[object WeakMap]"]=!1;var f="object"==typeof n&&n&&n.Object===Object&&n,h="object"==typeof self&&self&&self.Object===Object&&self,m=f||h||Function("return this")(),_=t&&!t.nodeType&&t,p=_&&e&&!e.nodeType&&e,v=p&&p.exports===_;function y(e,t){return e.set(t[0],t[1]),e}function g(e,t){return e.add(t),e}function b(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function A(e,t){return function(n){return e(t(n))}}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var I,O=Array.prototype,j=Function.prototype,S=Object.prototype,N=m["__core-js_shared__"],D=(I=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",T=j.toString,$=S.hasOwnProperty,x=S.toString,M=RegExp("^"+T.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=v?m.Buffer:void 0,P=m.Symbol,k=m.Uint8Array,U=A(Object.getPrototypeOf,Object),G=Object.create,F=S.propertyIsEnumerable,C=O.splice,V=Object.getOwnPropertySymbols,z=L?L.isBuffer:void 0,W=A(Object.keys,Object),B=pe(m,"DataView"),Y=pe(m,"Map"),q=pe(m,"Promise"),H=pe(m,"Set"),X=pe(m,"WeakMap"),K=pe(Object,"create"),Q=we(B),J=we(Y),Z=we(q),ee=we(H),te=we(X),ne=P?P.prototype:void 0,re=ne?ne.valueOf:void 0;function ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){this.__data__=new oe(e)}function ce(e,t){var n=Ae(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Re(e)}(e)&&$.call(e,"callee")&&(!F.call(e,"callee")||x.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!$.call(e,a)||o&&("length"==a||ge(a,i))||n.push(a);return n}function ue(e,t,n){var r=e[t];$.call(e,t)&&Ee(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function le(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function de(e,t,n,u,l,f,h){var m;if(u&&(m=f?u(e,l,f,h):u(e)),void 0!==m)return m;if(!je(e))return e;var _=Ae(e);if(_){if(m=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&$.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,m)}else{var p=ye(e),v=p==i||p==o;if(Ie(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==p||p==r||v&&!f){if(w(e))return f?e:{};if(m=function(e){return"function"!=typeof e.constructor||be(e)?{}:function(e){return je(e)?G(e):{}}(U(e))}(v?{}:e),!t)return function(e,t){return me(e,ve(e),t)}(e,function(e,t){return e&&me(t,Se(t),e)}(m,e))}else{if(!d[p])return f?e:{};m=function(e,t,n,r){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return he(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?he(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case a:return function(e,t,n){return b(t?n(E(e),!0):E(e),y,new e.constructor)}(e,r,n);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,c.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,n){return b(t?n(R(e),!0):R(e),g,new e.constructor)}(e,r,n);case"[object Symbol]":return o=e,re?Object(re.call(o)):{}}var o}(e,p,de,t)}}h||(h=new se);var A=h.get(e);if(A)return A;if(h.set(e,m),!_)var I=n?function(e){return function(e,t,n){var r=t(e);return Ae(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Se,ve)}(e):Se(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(I||e,(function(r,i){I&&(r=e[i=r]),ue(m,i,de(r,t,n,u,i,e,h))})),m}function fe(e){return!(!je(e)||(t=e,D&&D in t))&&(Oe(e)||w(e)?M:u).test(we(e));var t}function he(e){var t=new e.constructor(e.byteLength);return new k(t).set(new k(e)),t}function me(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;ue(n,a,void 0===s?e[a]:s)}return n}function _e(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ie.prototype.clear=function(){this.__data__=K?K(null):{}},ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ie.prototype.get=function(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return $.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:$.call(t,e)},ie.prototype.set=function(e,t){return this.__data__[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=le(t,e);return!(n<0)&&(n==t.length-1?t.pop():C.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=le(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return le(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,r=le(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ae.prototype.clear=function(){this.__data__={hash:new ie,map:new(Y||oe),string:new ie}},ae.prototype.delete=function(e){return _e(this,e).delete(e)},ae.prototype.get=function(e){return _e(this,e).get(e)},ae.prototype.has=function(e){return _e(this,e).has(e)},ae.prototype.set=function(e,t){return _e(this,e).set(e,t),this},se.prototype.clear=function(){this.__data__=new oe},se.prototype.delete=function(e){return this.__data__.delete(e)},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!Y||r.length<199)return r.push([e,t]),this;n=this.__data__=new ae(r)}return n.set(e,t),this};var ve=V?A(V,Object):function(){return[]},ye=function(e){return x.call(e)};function ge(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function we(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(B&&"[object DataView]"!=ye(new B(new ArrayBuffer(1)))||Y&&ye(new Y)!=a||q&&"[object Promise]"!=ye(q.resolve())||H&&ye(new H)!=s||X&&"[object WeakMap]"!=ye(new X))&&(ye=function(e){var t=x.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?we(n):void 0;if(r)switch(r){case Q:return"[object DataView]";case J:return a;case Z:return"[object Promise]";case ee:return s;case te:return"[object WeakMap]"}return t});var Ae=Array.isArray;function Re(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Oe(e)}var Ie=z||function(){return!1};function Oe(e){var t=je(e)?x.call(e):"";return t==i||t==o}function je(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Se(e){return Re(e)?ce(e):function(e){if(!be(e))return W(e);var t=[];for(var n in Object(e))$.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return de(e,!0,!0)}}));function L(e,t,n){t.getters?f("model/no-name-conflict","Name conflict: property getters already exists"):t.getters={};var r={},i=function(i){var o=n[i];r[i]=function(){return o.apply(t,e)},Object.defineProperty(t.getters,i,{get:function(){return a[i]},enumerable:!0})};for(var o in n)i(o);var a=new N({computed:r});return a}function P(e,t,n,r){var i=function(i){var o=n[i];(r&&delete t[i],Object.prototype.hasOwnProperty.call(t,i))?f("model/no-name-conflict",'Name conflict: action "'+i+'" has same name as another method or property "'+i+'" in '+e.$model.name):Object.defineProperty(t,i,{value:function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e.$modelsGetter&&(e.$models=e.$modelsGetter()),o.apply(t,[e].concat(n))},enumerable:!0})};for(var o in n)i(o)}function k(e){return e&&"object"==typeof e&&!Array.isArray(e)}function U(e,t){return t.split(".").reduce((function(e,t){return e[t]||{}}),e)}function G(e,t){var n=(""+t).split("."),r=n.pop();return n.reduce((function(e,t){return e[t]||{}}),e)[r]}function F(e,t,n){void 0===n&&(n=!0);var r=n?Object.assign({},e):{};for(var i in t){var o=null,a=null;e&&(o=k(e[i])),t&&(a=k(t[i])),o&&a?F(e[i],t[i],n):N.set(e,i,t[i]),delete r[i]}for(var s in r)m("deep-merge","Deleting <",s,">"),N.delete(e,s);return r}function C(e,t,n){var r=(""+t).split("."),i=r.pop(),o=r.reduce((function(e,t){return t in e||N.set(e,t,{}),e[t]}),e);if(i in o){if(m("deep-merge","Existing data found -> Performing deep merge at '",i,"' of target",o,"with source",n),".value"in n&&null===n[".value"])return m("deep-merge","New data is null, deleting node at <",i,">"),void N.delete(o,i);F(o[i],n,!0)}else N.set(o,i,n);return o[i]}var V=new WeakMap,z=new WeakMap,W=["ServerTimestamp","CurrentTimestamp","InitialTimestamp"],GenericModel=function(e,t,n){this.$ready=!1,this.$promise=Promise.resolve(),this.$state={},this.$dirty={},this.$invalid={},this.$id=null,this.$idx=null,this.$noaccess=null,this._store_name=n,this._validation_behaviour="WARNING",N.observable(this.$state)},B={$isValid:{configurable:!0},$key:{configurable:!0},$vm:{configurable:!0},$model:{configurable:!0},$exists:{configurable:!0}};function Y(e,t){return e.sortidx<t.sortidx?-1:e.sortidx>t.sortidx?1:0}function q(e){var t=null;return"-"===e[0]?(e=e.slice(1),t=function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}):t=function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0},t}GenericModel.prototype._update_data=function(e,t,n){if(void 0===n&&(n=!1),this.$state=e,n)for(var r in e)this.$dirty[r]=!0},GenericModel.prototype.clone=function(){var e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.$state=M(e.$state),e.$dirty=M(e.$dirty),e.$invalid=M(e.$invalid),e._autogenerate_props(this.$model.modelDefinition.schema.fields,e.$state,!1),e._set_generic_store(this.$model),V.set(e,this.$vm),e},GenericModel.prototype.setValidationBehaviour=function(e){["ERROR","WARNING","ELEMENT_VALIDATION","NONE"].includes(e)&&(this._validation_behaviour=e)},GenericModel.prototype._update_field=function(e,t,n){var r=this,i=this._validation_behaviour||"WARNING",o=n.is_nested?function(){return function(e,t,n){var r=(""+t).split("."),i=r.pop(),o=r.reduce((function(e,t){return t in e||N.set(e,t,{}),e[t]}),e);return N.set(o,i,n),o[i]}(r.$state,e,t)}:function(){return N.set(r.$state,e,t)};if(E.isMoment(t))return E.isValidDate(t)||f("model/invalid-moment","Got invalid (enhanced) moment object",t,"for prop",e),t=t.toRealtimeDB(),delete this.$invalid[e],this.$dirty[e]=!0,void o();if(!n.validator)return o(),void(this.$dirty[e]=!0);if(n.validator(t))delete this.$invalid[e],this.$dirty[e]=!0,o();else{if(this.$invalid[e]=!0,this.$dirty[e]=!0,o(),"ERROR"===i)throw new Error("Validation failed for field '"+e+"' with value "+t+".");"WARNING"===i&&f("model/client-validation-failed","Validation failed for field '"+e+"' with value "+t+".")}},GenericModel.prototype._on_remove=function(){this.$deleted=!0},B.$isValid.get=function(){return 0===Object.keys(this.$invalid).length},B.$key.get=function(){return"KEY-"+this._store_name+"-"+this.$id},B.$vm.get=function(){return V.get(this)},B.$model.get=function(){return z.get(this)},B.$exists.get=function(){return!1!==this.$state[".exists"]},GenericModel.prototype._autogenerate_props=function(e,t,n){var r=this;void 0===n&&(n=!1),Array.isArray(e)||(e=Object.keys(e).map((function(t){return Object.assign({},{model:t},e[t])}))),e.forEach((function(e){var i=e.model;if(t&&i in t&&(r.$state[i]=t[i]),n&&(r.$dirty[i]=!0),Object.prototype.hasOwnProperty.call(r,i))f("model/no-name-conflict",'Name conflict: property "'+i+'" has same name as global action/global getter "'+i+'" in '+r._store_name);else{var o=function(){},a="";if(i.includes("/")||i.includes(".")){var s=(a=i.replace(/\//g,".")).split("."),c=s.pop();s=s.join("."),o=function(){return U(r.$state,s)[c]},e.is_nested=!0}else a=i,o=function(){return r.$state[i]},e.is_nested=!1;if(e.type){var u=function(e,t,n,r){if(0===e||null===e)return e;if(E.isMoment(e))throw new Error("Assigning moment objects directly to property is not allowed.");return isFinite(e)&&e>n&&e<r?t(e):void 0===e?t(NaN):(f("model/invalid-timestamp-from-server","Schema defined",i,"as Timestamp, but got invalid data:",e),E(e))},l=o;"Timestamp"===e.type?o=function(){return u(l(),E.fromRealtimeDB,2e8,3e10)}:W.includes(e.type)?o=function(){return u(l(),E.fromRealtimeServerTime,2e11,3e13)}:e.type.includes("Timestamp")&&f("model/unknown-timestamp-type","Found validation type that contains 'Timestamp' but is not recognized.",e.type)}Object.defineProperty(r,a,{set:function(t){return r._update_field(a,t,e)},get:o})}}))},GenericModel.prototype._decorate_actions=function(e,t){e&&P({$instance:this,$model:t.model,$models:t.models},this,e,!1)},GenericModel.prototype._decorate_getters=function(e,t){if(e){for(var n in e)Object.prototype.hasOwnProperty.call(this,n)&&(f("model/no-name-conflict",'Name conflict: getter "'+n+'" has same name as property/custom action/global action/global getter "'+n+'" in '+this._store_name),delete e[n]);var r=L([this,t.model,t.models],this,e);V.set(this,r)}},GenericModel.prototype._set_generic_store=function(e){z.set(this,e)},GenericModel.prototype.write=function(){var e=this;h("model","Writing $dirty fields",JSON.stringify(this.$dirty));var t={};for(var n in this.$dirty){var r=void 0,i=void 0;n.includes(".")?(i=n.replace(/\./g,"/"),r=G(this.$state,n)):(i=n,r=this.$state[n]),void 0!==r?t[i]=r:f("model/writing-undefined","Trying to write undefined for prop",n)}var o=this.$model;if(!o)throw new Error("Model reference not set with _set_generic_store");var a=!0,s=this.$id;return s||(s=o._get_uid(),a=!1),o.modelDefinition&&o.modelDefinition.schema?o._validate_schema(t,a):f("model/no-schema","No schema found to validate input"),o.update(s,t).then((function(){return e.$id=s,e.$dirty={},s}))},GenericModel.prototype._get_model_for_write=function(){if(!this.$id)throw new Error("Write operations are not allowed for new models.");var e=this.$model;if(!e)throw new Error("Model reference not set with _set_generic_store");return e},GenericModel.prototype.update=function(e){var t=this;return this._get_model_for_write().update(this.$id,e).then((function(){for(var n in e)delete t.$dirty[n];return t.$id}))},GenericModel.prototype.remove=function(e){var t=this;void 0===e&&(e=null);var n=this._get_model_for_write();return null==e&&(e=n.defaultDeleteMode===I.SOFT),n.remove(this.$id,e).then((function(){e&&delete t.$dirty.deleted}))},GenericModel.prototype.restore=function(){var e=this;return this._get_model_for_write().restore(this.$id).then((function(){delete e.$dirty.deleted}))},GenericModel.prototype.reset=function(){},Object.defineProperties(GenericModel.prototype,B);var H=new WeakMap,GenericList=function(e){this.items={},this.$readyAll=!1,this.$readySome=!1,this.$promise=Promise.resolve(),this.$numReady=0,this.$noaccess=null,this.$numChildren=0,this._store_name=e,this._unwatch=null},X={$vm:{configurable:!0},itemsSorted:{configurable:!0},$idList:{configurable:!0}};function K(e){var t=e[e.length-1];return e.pop(),e=e.length>1?K(e):e[0],function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i=e.apply(void 0,n),o=t.apply(void 0,n);return Object.assign(i||{},o)}}GenericList.prototype._clone=function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)},GenericList.prototype._add_child=function(e,t){this.$readySome=!0,N.set(this.items,e,t),this.$numChildren+=1,this.items[e].$idx=this.$numChildren},GenericList.prototype._rem_child=function(e){e in this.items&&this.items[e]._on_remove(),N.delete(this.items,e),this.$numChildren-=1},X.$vm.get=function(){return H.get(this)},GenericList.prototype._decorate_actions=function(e,t){e&&P({$instance:this,$model:t.model,$models:t.models},this,e,!1)},GenericList.prototype._decorate_getters=function(e,t){if(e){for(var n in e)Object.prototype.hasOwnProperty.call(this,n)&&(f("model/no-name-conflict",'Name conflict: list getter "'+n+'" has same name as existing property getter "'+n+'" in '+this._store_name),delete e[n]);var r=L([this,t.model,t.models],this,e);H.set(this,r)}},GenericList.prototype.getItemByIdx=function(e){for(var t in this.items)if(this.items[t].$idx===e)return this.items[t];return null},GenericList.prototype.asArraySorted=function(){var e=this._clone();return e.items=this.itemsAsArray(),e.items.sort(Y),e},GenericList.prototype.asArraySortedBy=function(e){var t=this._clone();return t.items=this.itemsAsArray(),t.items.sort(q(e)),t},GenericList.prototype.asArrayFilteredBy=function(e,t){var n=this._clone();return n.items=this.itemsAsArray(),n.items=n.items.filter((function(n){return n[e]===t})),n},GenericList.prototype.itemsAsArray=function(){var e=this;return Array.isArray(this.items)?this.items:Object.keys(this.items).map((function(t){return e.items[t]}))},X.itemsSorted.get=function(){return this.itemsAsArray().sort(Y)},GenericList.prototype.itemsAsArrayWithoutDeleted=function(e){return this.itemsAsArray().filter((function(e){return!1===e.deleted||void 0===e.deleted})).sort(e?q(e):Y)},GenericList.prototype.itemsAsArrayOnlyDeleted=function(e){return this.itemsAsArray().filter((function(e){return!0===e.deleted})).sort(e?q(e):Y)},X.$idList.get=function(){return Object.keys(this.items)},GenericList.prototype.reset=function(){this._unwatch&&(h("collection","Found local un-watcher in",this._store_name),this._unwatch())},Object.defineProperties(GenericList.prototype,X);function Q(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}var J=Array.prototype;function Z(e,t){return e.filter((function(e){return t.indexOf(e)<0}))}Object.defineProperty(J,"clone",{value:function(){return this.slice(0)},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(J,"move",{value:function(e,t){this.splice(t,0,this.splice(e,1)[0])},enumerable:!1,configurable:!0,writable:!0});var ee=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return m.apply(void 0,[a,"["+e+"]"].concat(t))},te=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return m.apply(void 0,[o,"["+e+"]"].concat(t))},ne=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return m.apply(void 0,[s,"["+e+"]"].concat(t))},re=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return m.apply(void 0,[c,"["+e+"]"].concat(t))},ie=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return m.apply(void 0,[u,"["+e+"]"].concat(t))},oe=new WeakMap,ae=new Map,se=new Map,ce=new Map;"false"===String(process.env.VUE_APP_PRODUCTION)&&(window.helioRxDev=window.helioRxDev||{},window.helioRxDev._resultInstanceCache=se,window.helioRxDev._resultListCache=ce,window.helioRxDev._autoUnsubscribeMap=ae);var ue,le={_read_mixin_init:function(){if(ne(this.name,"[GENS:LOADER] init"),this.modelDefinition&&this.modelDefinition.staticGetters){var e=[this,T];this._vm=L(e,this,this.modelDefinition.staticGetters)}},get subscriptions(){return oe.get(this)},_bind_rtdb:function(e){var t=this,n=e.key,r=e.ref,i=e.ops,o=e.bindAsArray,a=this._last_caller||null;if(this.autoUnsubscribe&&a){var s=function(){var e;return t._unbind_rtdb(n),(e={})[n]=!0,e},c=ae.get(a.uid);c&&(s=K([s,c])),ae.set(a._uid,s),a.$once("hook:beforeDestroy",(function(){t._clean_up_refs(a)}))}var u=oe.get(this);return u||(u=Object.create(null),oe.set(this,u)),n in u&&this._unbind_rtdb(n),new Promise((function(e,t){u[n]=o?function(e){var t=e.collection,n=e.ops,r=e.resolve,i=e.reject,o=n.init().target;t.once("value",(function(e){n.once(o,e.val(),e.exists()),r()}),(function(e){e&&i(e)}));var a=t.on("child_added",(function(e,t){n.add(o,e.key,e.val())}),i),s=t.on("child_removed",(function(e){n.remove(o,e.key)}),i),c=t.on("child_changed",(function(e){n.set(o,e.key,e.val())}),i),u=t.on("child_moved",(function(e,t){}),i);return function(){t.off("child_added",a),t.off("child_changed",c),t.off("child_removed",s),t.off("child_moved",u)}}({key:n,collection:r,ops:i,resolve:e,reject:t}):function(e){var t=e.document,n=e.ops,r=e.resolve,i=e.reject,o=n.init().target,a=t.on("value",(function(e){var t=e.val();e.exists()||(t={".exists":!1}),n.set(o,t),r(t)}),(function(e){e&&i(e)}));return function(){t.off("value",a)}}({key:n,document:r,ops:i,resolve:e,reject:t})}))},_clean_up_refs:function(e){var t=ae.get(e._uid),n=e.$options.name||e.$options._componentTag;if(t){var r=t();h("store/unsubscribe/auto",'%cIt seems that the VueComponent "'+n+'" ('+e.$vnode.tag+"), \naccessed this.$models and created a subscriptions. The components \njust got destroyed and so did it's subscription to "+JSON.stringify(Object.keys(r))+".","color: green")}else h("store/unsubscribe/auto",'%cIt seems that the VueComponent "'+n+'" ('+e.$vnode.tag+"), \naccessed this.$models, but it either didn't create any subscriptions or \nthe subscription was already removed. The component just got destroyed \nso there is nothing to clean up.","color: darkgoldenrod");ae.delete(e._uid)},_fetch_rtdb:function(e){var t=e.key,n=e.ref,r=e.ops,i=e.bindAsArray;return new Promise((function(e,o){i?function(e){var t=e.collection,n=e.ops,r=e.resolve,i=e.reject,o=n.init().target;t.once("value",(function(e){var t=e.val();n.once(o,t,e.exists()),r(t)}),(function(e){e&&i(e)}))}({key:t,collection:n,ops:r,resolve:e,reject:o}):function(e){var t=e.document,n=e.ops,r=e.resolve,i=e.reject,o=n.init().target;t.once("value",(function(e){var t=e.val();e.exists()||(t={".exists":!1}),n.set(o,t),r(t)}),(function(e){e&&i(e)}))}({key:t,document:n,ops:r,resolve:e,reject:o})}))},_unbind_rtdb:function(e){var t=e.key,n=oe.get(this);n&&n[t]&&(n[t](),delete n[t])},_infer_local_path_from_ref:function(e){return e.path.toString().split("/").filter((function(e){return e})).join(".")},unsync:function(e,t){void 0===e&&(e=null),void 0===t&&(t={});var n=t.clean_up;void 0===n&&(n=!1),ne(this.name,"[GENS] unsync",e,n);var r=null!==e?this.global_store_path_array[e]:this.global_store_path;if(r&&this._unbind_rtdb({key:r}),null!==e&&!(e in this.global_store_path_array)){if(this.isSuffixed)throw new Error("Unsync with id for data retrieved via subscribeList() is not supported.");r=this.global_store_path+"."+e}if(n){if(ie(this.name,"unsync: clean up state. id:",e,"path:",r),null!==e&&ce.has(this.path))ce.get(this.path)._rem_child(e);S.commit("heliosrx/UNSET_VALUE",{path:r},{root:!0})}},unsyncAll:function(e){var t=this;void 0===e&&(e={});var n=e.clean_up;if(void 0===n&&(n=!1),ne(this.name,"[GENS] unsyncAll",n),oe){if(n&&ce.has(this.path)){var r=ce.get(this.path);r.$idList.forEach((function(e){return r._rem_child(e)})),r.reset()}Object.keys(oe).forEach((function(e){t._unbind_rtdb({key:e}),n&&S.commit("heliosrx/UNSET_VALUE",{path:e},{root:!0})}))}},_fetch_individual:function(e,t){void 0===t&&(t={});var n=t.overwriteKey;void 0===n&&(n=!1);var r=t.customOps;return void 0===r&&(r={}),this._sync_individual(e,{overwriteKey:n,customOps:r,fetchOnce:!0})},_fetch_list:function(e){void 0===e&&(e={});var t=e.overwriteKey;void 0===t&&(t=!1);var n=e.customOps;void 0===n&&(n={});var r=e.customRef;return void 0===r&&(r=null),this._sync_list({overwriteKey:t,customOps:n,customRef:r,fetchOnce:!0})},_sync_individual:function(e,t){var n=this;void 0===t&&(t={});var r=t.overwriteKey;void 0===r&&(r=!1);var i=t.fetchOnce;void 0===i&&(i=!1);var o=t.customOps;void 0===o&&(o={}),this.isSuffixed||i||f("read/sync-individial-but-list-supported","Syncing individually in "+this.name+", even though list would be supported");var a=this.childRef(e),s="res."+this._infer_local_path_from_ref(a);this.global_store_path_array[e]=s,te(this.name,"_sync_individual:",this.name,s,r,i),ne(this.name,"[GENS] - sync ref",a.path.toString()),ne(this.name,"[GENS] - sync key",s),ne(this.name,"[GENS] - sync target",this.global_store_path_array[e]);var c={init:function(){var t={};return ne(n.name,"[OPS:INIT (individual)]",t),S.commit("heliosrx/INIT_VALUE",{path:n.global_store_path_array[e],data:t},{root:!0}),{target:t}},set:function(e,t){ne(n.name,"[OPS:SET (individual)]",e,null),S.commit("heliosrx/SET",{target:e,data:t},{root:!0})}};return i&&(c={init:function(){re(n.name,"[OPS:INIT] (fetch, individial)");return{target:{}}},set:function(e,t){re(n.name,"[OPS:SET] (fetch, individial)",e,null)}}),Object.keys(o).forEach((function(e){c[e]=K([c[e],o[e]])})),i?this._fetch_rtdb({key:s,ref:a,ops:c,bindAsArray:!1}):this._bind_rtdb({key:s,ref:a,ops:c,bindAsArray:!1})},_sync_list:function(e){var t=this;void 0===e&&(e={});var n=e.overwriteKey;void 0===n&&(n=!1);var r=e.fetchOnce;void 0===r&&(r=!1);var i=e.customOps;void 0===i&&(i={});var o=e.customRef;if(void 0===o&&(o=null),this.isSuffixed)throw new Error("Suffixed store does not support bind to array");var a=o||this.parentRef,s="res."+(n||this._infer_local_path_from_ref(a));te(this.name,"sync:",this.name,s,n,r),ne(this.name,"[GENS] - ref",this.parentRef),ne(this.name,"[GENS] - key",s),this.global_store_path=s;var c={root:!0},u={init:function(){ne(t.name,"[OPS:INIT]",t.global_store_path,S.state);var e={},n=U(S.state,t.global_store_path);return Object.keys(n).length>0&&(ne(t.name,"[OPS:INIT] existing_data",n),e=n),ne(t.name,"[OPS:INIT] data",null),S.commit("heliosrx/INIT_VALUE",{path:t.global_store_path,data:e},c),{target:e}},add:function(e,n,r){ne(t.name,"[OPS:ADD]",e,n,r,null),S.commit("heliosrx/ARRAY_ADD",{target:e,newId:n,data:r},c)},remove:function(e,n){var r=e[n],i=t._match_all_existing_synced_queries(t.path);for(var o in ie(t.name,"[OPS:REMOVE]",e,n),ie(t.name,"entry_name",t.path),ie(t.name,"deleted_item",r),ie(t.name,"_match_existing_synced_nodes",i),i){var a=i[o].query;if(t._item_matches_query(a,r))return void ie(t.name,"ITEM STILL IN USE",n,r)}S.commit("heliosrx/ARRAY_REMOVE",{target:e,oldId:n},c)},set:function(e,n,r){ne(t.name,"[OPS:SET]",e,n,r),S.commit("heliosrx/ARRAY_SET",{target:e,currentId:n,data:r},c)},once:function(e,t,n){ne("[OPS:ONCE]",t,n)}};return r&&(u={init:function(){re(t.name,"[OPS:INIT] (fetch)",s);return{target:{}}},once:function(e,n,r){re(t.name,"[OPS:ONCE] (fetch)",n,r)}}),Object.keys(i).forEach((function(e){u[e]=K([u[e],i[e]])})),ne(this.name,"[GENS] - ops",u),ne(this.name,"[GENS] - payload",{key:s,ref:a,ops:u,bindAsArray:!0}),r?this._fetch_rtdb({key:s,ref:a,ops:u,bindAsArray:!0}):this._bind_rtdb({key:s,ref:a,ops:u,bindAsArray:!0})},_item_matches_query:function(e,t){return!0},_create_context:function(){return{model:this,models:T}},_match_all_existing_synced_queries:function(e,t){void 0===t&&(t=!0),e.includes("#")&&(e=e.split("#").shift());var n=[];for(var r in S.state.sync){var i=r.split("#").shift();if(e.startsWith(i)){var o=S.state.sync[r];if(!t||"Ready"!==o.status&&"Loading"!==o.status)continue;n.push(Object.assign({},{path:r,path_without_query:i},o))}}return n},_match_existing_synced_nodes:function(e,t){for(var n in void 0===t&&(t=!1),e.includes("#")&&(e=e.split("#").shift()),S.state.sync){var r=n;if(n.includes("#")){var i=n.split("#").shift();e.startsWith(i)&&f("read/sync-existing-query-path","You're trying to sync a path that has already been synced by a query. This is not supported.","requested_path",e,"existing_path",n)}if(t&&n.includes("{id}")&&(n=n.replace("{id}","")),e.startsWith(n)&&("Ready"===S.state.sync[r].status||"Loading"===S.state.sync[r].status))return f("read/sync-subset-data",this.name,"Found node of higher hierarchy that is already syncing:",n,"vs.",e),r}return!1},_get_sync_state:function(e){return(S.state.sync[e]||{}).status||null},getList:function(e,t){void 0===t&&(t={});var n=t.noReactiveGetter;return void 0===n&&(n=!1),te(this.name,"getList",e||"*"),this.subscribeList(e,{noSync:!0,createModelFromExistingCache:!0,noReactiveGetter:n})},getNode:function(e,t){void 0===t&&(t={});var n=t.noReactiveGetter;if(void 0===n&&(n=!1),te(this.name,"getNode",e),!e)throw new Error("getNode: got invalid id: "+e);return this.subscribeNode(e,{noSync:!0,createModelFromExistingCache:!0,noReactiveGetter:n})},subscribeList:function(e,t){var n=this;void 0===t&&(t={});var r=t.noSync;void 0===r&&(r=!1);var i=t.noReactiveGetter;void 0===i&&(i=!1);var a=t.createModelFromExistingCache;void 0===a&&(a=!1);var s=t.queryParams;void 0===s&&(s=null);var c=null,u="",l=this.path;if(s&&(c=this.buildQueryRef(s),u=this._query_hash(s),l=l+"#"+u,ee(this.name,"QUERYHASH:"+l,"Using query hash in entry_name",l)),te(this.name,"subscribeList",l),ce.get(l))return te(this.name,"subscribeList - returning list cache"),ce.get(l);var d=S.getters.get_registry_entry(l);d&&te(this.name,"subscribeList - WARN - found registry entry, but no local cache!");var _=this._match_existing_synced_nodes(l,!0);if(_){if(a){var p=this.getData();te(this.name,"Found node in existing synced data making list model from existing data",p);var v=x.make_reactive_list(this.modelDefinition,p,this._create_context(),i);v.$promise=Q();var y=this._get_sync_state(_);te(this.name,"checking sync state - is data already fully synced?",y),"Ready"===y&&v.$promise.resolve(!0),ie(this.name,"[Watcher] Registering Watcher");var g=S.watch((function(e){return ie(n.name,"[Watcher]  -- asking for value"),n.getData(null,!0)}),(function(e,t){if(ie(n.name,"[Watcher]  -- watcher triggered",e,t),null==e)return v.$idList.forEach((function(e){ie(n.name,"[Watcher]  -- ELIMINATIING LIST",e),v._rem_child(e)})),v.$numReady=!1,v.$readyAll=!1,v.$readySome=!1,void v.$promise.resolve(!0);var r=Object.keys(e),o=t?Object.keys(t):[],a=v.$idList;r.toString()===o.toString()&&ie(n.name,"[Watcher] Watcher values are the same? WHY? ",r,o);var s,c,u={removed:Z(c=a,s=r),added:Z(s,c)};ie(n.name,"[Watcher] DIFF",u,r,a),u.removed.forEach((function(e){ie(n.name,"[Watcher]  -- REMOVED",e),v._rem_child(e),v.$numReady--})),u.added.forEach((function(e){ie(n.name,"[Watcher]  -- ADDED",e);var t=l.split("#").shift().replace(/\{id\}/g,e);se.has(t)&&f("common/common","A new item was added, but there already exists a model instance in the cache for this item. This means the subscription management failed.");var r=n.getData(e),o=x.make_reactive_model(n.modelDefinition,r,n._create_context(),!1,i);o.$id=e,v._add_child(e,o),v.$numReady++,se.set(t,o)})),v.$promise.resolve(!0)}));return v._unwatch=g,ce.set(l,v),v}f("read/sync-subset-data","You're trying to sync data, that is already synced by a node higher up in the hierarchy. This will result in undefined behaviour. Try using getList() or getNode() instead! Sync path:",l)}if(this._match_existing_synced_nodes(l)===l)throw m(o,">>>",l,ce,se),new Error("Exact path found, but no cache hit. This should never happen");if(r)return te(this.name,"subscribeList - No Sync, returning"),f("read/accessing-unsynced-data","You're trying to fetch data at "+l+" that has not been synced yet."),null;ee(this.name,null,"*new* subscribeList",l),d={query:s,status:"Loading"},S.commit("ADD_ENTRY",{name:l,data:d});var b=x.make_reactive_list(this.modelDefinition,null,this._create_context());ce.set(l,b),b.$promise=Q(),te(this.name,"subscribeList - Created reactive list, made registry entry, started sync request for",d,b);var w={add:function(e,t,r){S.commit("SET_ENTRY_STATUS",{name:l,value:"Ready"}),te(n.name,"subscribeList:add - Child ready",n.name,l,t);var o=l.split("#").shift().replace(/\{id\}/g,t);se.has(o)&&te(n.name,"subscribeList:add - Reactive model already exists in instance cache"),t in b.items&&f("common/common","An existing item was added twice. This means the subscription management failed.");var a=se.has(o)?se.get(o):x.make_reactive_model(n.modelDefinition,r,n._create_context(),!1,i);a.$id=t,b._add_child(t,a),se.has(o)?(te("subscribeList:add - Updating existing item (previously synced with subscribeNode) with",r),a._update_data(r)):se.set(o,a)},init:function(){return te(n.name,"subscribeList:init"),{}},remove:function(e,t){ie(n.name,"subscribeList:remove",t),b._rem_child(t)},set:function(e,t,r){if(te(n.name,"subscribeList:set",t,r),ce.get(l)&&t in ce.get(l).items){var i=ce.get(l).items[t],o=n.getData(t);i._update_data(o,n.modelDefinition.schema.fields),te(n.name,"subscribeList:set [B] - updating model",o)}else te(n.name,"subscribeList:set - WARNING - not found in cache!",t,ce.get(l))}};return this._sync_list({customOps:w,customRef:c}).then((function(){b.$readyAll=!0,b.$promise.resolve(!0)})).catch((function(e){if("PERMISSION_DENIED"!==e.code)throw e;f("read/permission-denied",e.message),h("permission","======================================"),h("permission","PERMISSION_DENIED ["+n.name+".subscribeList()]"),h("permission","queryParams:",s),h("permission","======================================"),b.$readyAll=!0,b.$readySome=!0,b.$noaccess=!0,b.$promise.reject(e)})),b},subscribeNode:function(e,t){var n=this;void 0===t&&(t={});var r=t.noSync;void 0===r&&(r=!1);var i=t.noReactiveGetter;void 0===i&&(i=!1);var a=t.createModelFromExistingCache;if(void 0===a&&(a=!1),!e)throw new Error("subscribeNode: got invalid id: ");var s=this.previewPath(e),c=this.path;if(te(this.name,"subscribeNode",s),ce.get(c)&&e in ce.get(c).items)return te(this.name,"subscribeNode - returning from list cache"),ce.get(c).items[e];if(se.has(s))return te(this.name,"subscribeNode - returning from instance cache"),se.get(s);if(this._match_existing_synced_nodes(c)&&ee(this.name,"======================================= (FIXME)",{entry_name_child:s},{entry_name_list:c},{"has:node":se.has(s)},{"get:list":se.get(c)}),this._match_existing_synced_nodes(s)){if(a){var u=this.getData(e);te(this.name,"Found node in existing synced data making model from existing data",u);var l=x.make_reactive_model(this.modelDefinition,u,this._create_context(),!1,i);return l.$id=e,l.$ready=!0,se.set(s,l),te(this.name,"made model",l),l}f("read/sync-subset-data","You're trying to sync data, that is already synced by a node higher up in the hierarchy. This will result in undefined behaviour. Try using getNode() instead! Sync path:",s)}if(this._match_existing_synced_nodes(s)===s)throw m(o,">>>",s,ce,se),new Error("Exact path found, but no cache hit. This should never happen");if(r)return null;ee(this.name,e,"*new* subscribeNode",s);var d=x.make_reactive_model(this.modelDefinition,null,this._create_context(),!1,i);d.$id=e,d.$promise=Q(),se.set(s,d);var _={id:e,status:"Loading"};S.commit("ADD_ENTRY",{name:s,data:_}),te(this.name,"subscribeNode - Made registry entry and started at",s,_);var p={init:function(e){return te(n.name,"subscribeNode:init",e),{}},set:function(e,t){te(n.name,"subscribeNode:set",e,t)}};return this._sync_individual(e,{customOps:p}).then((function(t){var r=n.getData(e);te(n.name,"subscribeNode - data ready",s,t,r),void 0!==r?(d._update_data(r,n.modelDefinition.schema.fields),d.$ready=!0,d.$noaccess=!1,S.commit("SET_ENTRY_STATUS",{name:s,value:"Ready"}),te(n.name,"subscribeNode - created reactive model",d),d.$promise.resolve(!0)):f("common/common",n.name,"subscribeNode - subscribeList took over, while waiting for _sync_individual. subscribeList will handle instance now.")})).catch((function(t){if("PERMISSION_DENIED"!==t.code)throw t;f("read/permission-denied",t.message),h("permission","======================================"),h("permission","PERMISSION_DENIED ["+n.name+".subscribeNode( "+e+" )]"),h("permission","======================================"),S.commit("SET_ENTRY_STATUS",{name:s,value:"NoAccess"});var r=n.getData(e);r[".noaccess"]=!0,d._update_data(r,n.modelDefinition.schema.fields),d.$ready=!0,d.$noaccess=!0,d.$promise.reject(t)})),d},buildQueryRef:function(e){var t=e.key;void 0===t&&(t=void 0);var n=e.value;void 0===n&&(n=void 0);var r=e.limit;void 0===r&&(r=void 0);var i=e.startAt;void 0===i&&(i=void 0);var o=e.endAt;void 0===o&&(o=void 0);var a=this.parentRef;return a="*"===t?a.orderByValue():void 0===t?a.orderByKey():a.orderByChild(t),void 0!==n&&(a=a.equalTo(n)),void 0!==i&&(a=a.startAt(i)),void 0!==o&&(a=a.endAt(o)),void 0!==r&&(a=r>0?a.limitToFirst(r):a.limitToLast(-r)),a},_query_hash:function(e){return[e.key,e.value,e.limit,e.startAt,e.endAt].join("_")},subscribeQuery:function(e,t){return void 0===t&&(t={}),this.subscribeList(null,Object.assign({},t,{queryParams:e}))},fetchNode:function(e,t){var n=this;void 0===t&&(t={});var r=t.noReactiveGetter;void 0===r&&(r=!1);var i=x.make_reactive_model(this.modelDefinition,null,this._create_context(),!1,r);i.$id=e,i.$promise=Q();var o={init:function(){return re(n.name,"fetchNode:init"),{}},set:function(e,t){re(n.name,"fetchNode:set",e,t)}};return this._fetch_individual(e,{customOps:o}).then((function(e){re(n.name,"fetchNode - data ready",e),i._update_data(e,n.modelDefinition.schema.fields),i.$ready=!0,i.$promise.resolve(!0)})),i},fetchList:function(e){var t=this;void 0===e&&(e={});var n=e.noReactiveGetter;void 0===n&&(n=!1);var r=e.queryParams;void 0===r&&(r=null);var i=r?this.buildQueryRef(r):null,o=x.make_reactive_list(this.modelDefinition,null,this._create_context(),n);o.$promise=Q();var a={init:function(){return re(t.name,"fetchList:init"),{}},once:function(e,n,r){re(t.name,"fetchList:once",n)}};return this._fetch_list({customOps:a,customRef:i}).then((function(e){re(t.name,"fetchList:resolve",e),Object.keys(e||[]).forEach((function(r){var i=e[r],a=x.make_reactive_model(t.modelDefinition,i,t._create_context(),!1,n);a.$id=r,o._add_child(r,a),o.$numReady++})),o.$readyAll=!0,o.$promise.resolve(!0)})),o},fetchQuery:function(e,t){return this.fetchList(Object.assign({},t,{queryParams:e}))},getRegistryState:function(){return S.state},getAllSyncedPaths:function(){var e={};return Object.keys(S.state.sync).forEach((function(t){e[t]=S.state.sync[t].status})),e},getData:function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1);var n="";if(this.isSuffixed||e){if(!e)throw new Error("getData: id required for suffixed stores");n=this.path.replace(/\{id\}/g,e)}else n=this.path.split("{id}").shift();var r="res."+n.split("/").filter((function(e){return e})).join(".");return S.state.initialized?t?U(S.state,r):function(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)}(S.state,r):null},resetGlobalInstanceCache:function(){try{se.forEach((function(e){e.reset()})),ce.forEach((function(e){e.reset()}))}catch(e){f("common/common","Reseting instances failed",e)}se.clear(),ce.clear()}},de=r((function(e,t){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[r]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[i]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==typeof n&&n&&n.Object===Object&&n,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),h=t&&!t.nodeType&&t,m=h&&e&&!e.nodeType&&e,_=m&&m.exports===h,p=_&&l.process,v=function(){try{return p&&p.binding&&p.binding("util")}catch(e){}}(),y=v&&v.isTypedArray;function g(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var E,A,R,I=Array.prototype,O=Function.prototype,j=Object.prototype,S=f["__core-js_shared__"],N=O.toString,D=j.hasOwnProperty,T=(E=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",$=j.toString,x=RegExp("^"+N.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=_?f.Buffer:void 0,L=f.Symbol,P=f.Uint8Array,k=j.propertyIsEnumerable,U=I.splice,G=L?L.toStringTag:void 0,F=Object.getOwnPropertySymbols,C=M?M.isBuffer:void 0,V=(A=Object.keys,R=Object,function(e){return A(R(e))}),z=ve(f,"DataView"),W=ve(f,"Map"),B=ve(f,"Promise"),Y=ve(f,"Set"),q=ve(f,"WeakMap"),H=ve(Object,"create"),X=we(z),K=we(W),Q=we(B),J=we(Y),Z=we(q),ee=L?L.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){var n=Re(e),r=!n&&Ae(e),i=!n&&!r&&Ie(e),o=!n&&!r&&!i&&De(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!D.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,c))||s.push(u);return s}function ce(e,t){for(var n=e.length;n--;)if(Ee(e[n][0],t))return n;return-1}function ue(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":G&&G in Object(e)?function(e){var t=D.call(e,G),n=e[G];try{e[G]=void 0;var r=!0}catch(e){}var i=$.call(e);r&&(t?e[G]=n:delete e[G]);return i}(e):function(e){return $.call(e)}(e)}function le(e){return Ne(e)&&ue(e)==r}function de(e,t,n,s,c){return e===t||(null==e||null==t||!Ne(e)&&!Ne(t)?e!=e&&t!=t:function(e,t,n,s,c,u){var l=Re(e),d=Re(t),f=l?"[object Array]":ge(e),h=d?"[object Array]":ge(t),m=(f=f==r?o:f)==o,_=(h=h==r?o:h)==o,p=f==h;if(p&&Ie(e)){if(!Ie(t))return!1;l=!0,m=!1}if(p&&!m)return u||(u=new ae),l||De(e)?me(e,t,n,s,c,u):function(e,t,n,r,o,s,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new P(e),new P(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var u=b;case a:var l=1&r;if(u||(u=w),e.size!=t.size&&!l)return!1;var d=c.get(e);if(d)return d==t;r|=2,c.set(e,t);var f=me(u(e),u(t),r,o,s,c);return c.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,s,c,u);if(!(1&n)){var v=m&&D.call(e,"__wrapped__"),y=_&&D.call(t,"__wrapped__");if(v||y){var g=v?e.value():e,E=y?t.value():t;return u||(u=new ae),c(g,E,n,s,u)}}if(!p)return!1;return u||(u=new ae),function(e,t,n,r,i,o){var a=1&n,s=_e(e),c=s.length,u=_e(t).length;if(c!=u&&!a)return!1;var l=c;for(;l--;){var d=s[l];if(!(a?d in t:D.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);var m=a;for(;++l<c;){d=s[l];var _=e[d],p=t[d];if(r)var v=a?r(p,_,d,t,e,o):r(_,p,d,e,t,o);if(!(void 0===v?_===p||i(_,p,n,r,o):v)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var y=e.constructor,g=t.constructor;y!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,s,c,u)}(e,t,n,s,de,c))}function fe(e){return!(!Se(e)||function(e){return!!T&&T in e}(e))&&(Oe(e)?x:s).test(we(e))}function he(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||j;return e===n}(e))return V(e);var t=[];for(var n in Object(e))D.call(e,n)&&"constructor"!=n&&t.push(n);return t}function me(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,d=!0,f=2&n?new oe:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],m=t[l];if(r)var _=a?r(m,h,l,t,e,o):r(h,m,l,e,t,o);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!g(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||i(h,e,n,r,o)))return f.push(t);var a}))){d=!1;break}}else if(h!==m&&!i(h,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function _e(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Te,ye)}function pe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return D.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:D.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():U.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ce(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(W||re),string:new ne}},ie.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return pe(this,e).get(e)},ie.prototype.has=function(e){return pe(this,e).has(e)},ie.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},oe.prototype.add=oe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oe.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var ye=F?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(F(e),(function(t){return k.call(e,t)})))}:function(){return[]},ge=ue;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function we(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(z&&"[object DataView]"!=ge(new z(new ArrayBuffer(1)))||W&&ge(new W)!=i||B&&"[object Promise]"!=ge(B.resolve())||Y&&ge(new Y)!=a||q&&"[object WeakMap]"!=ge(new q))&&(ge=function(e){var t=ue(e),n=t==o?e.constructor:void 0,r=n?we(n):"";if(r)switch(r){case X:return"[object DataView]";case K:return i;case Q:return"[object Promise]";case J:return a;case Z:return"[object WeakMap]"}return t});var Ae=le(function(){return arguments}())?le:function(e){return Ne(e)&&D.call(e,"callee")&&!k.call(e,"callee")},Re=Array.isArray;var Ie=C||function(){return!1};function Oe(e){if(!Se(e))return!1;var t=ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ne(e){return null!=e&&"object"==typeof e}var De=y?function(e){return function(t){return e(t)}}(y):function(e){return Ne(e)&&je(e.length)&&!!u[ue(e)]};function Te(e){return null!=(t=e)&&je(t.length)&&!Oe(t)?se(e):he(e);var t}e.exports=function(e,t){return de(e,t)}})),fe={_write_mixin_init:function(e){(void 0===e&&(e=!1),this.modelDefinition)&&(this.modelDefinition.staticActions&&P({$model:this,$modelsGetter:function(){return T}},this,this.modelDefinition.staticActions,e))},add:function(e,t,n){var r,i=null;if(t||(t=this._get_uid()),!t[".sv"]&&!this._validate_id(t))throw new Error("Got invalid id:"+t);var o=!0;return n&&n.directWrite&&(o=!1),this.modelDefinition?(o?this.modelDefinition.schema&&this.modelDefinition.schema.create?(this._check_required_create_arg(e),i=this.modelDefinition.schema.create(e,e,"REALTIMEDB")):(f("model/no-create-function","No create function found in type definition, using overwrite data as payload."),i=e):i=e,this.modelDefinition.schema?this._validate_schema(i,!1):f("model/no-schema","No schema found to validate input")):(f("model/no-schema","No type definition found, using UNVALIDATED overwrite data as payload."),i=e),this._convert_moment_objects(i),h("store-write","Creating at",this.previewPath(t),"with payload",i),this.isSuffixed?this.childRef(t).update(i).then((function(){return t})):this.parentRef.update((r={},r[t]=i,r)).then((function(){return t}))},update:function(e,t){if(!e||!t)throw new Error("Either id or data is missing.");if(!this._validate_id(e)){if(!(this.modelDefinition.schema||{}).unsafe_disable_validation)throw new Error("Got invalid id in update");f("model/invalid-id","Got invalid id <"+e+">, but validation is disabled.")}this.modelDefinition.schema?this._validate_schema(t,!0):f("model/no-schema","No schema found to validate input");var n=t;return this._convert_moment_objects(n),h("store-write","Updating at",this.previewPath(e),"with payload",n),this.childRef(e).update(n)},reorder:function(e,t){var n=this;if(void 0===t&&(t={}),this.isSuffixed)throw new Error("Suffixed store does not support reorder");var r=t.overwriteSortIdxKey||"sortidx";if(e.length>0){var i=e[0],o=0;(_(i)||p(i))&&(e=e.map((function(e){return{id:e,sortidx:o+=100}}))),("$id"in i||"GenericModel"===i.constructor.name)&&(e=e.map((function(e){return o+=100,{id:e.$id,sortidx:o}})))}var a={};e.forEach((function(e){var t,i=e.sortidx;if(e.id=e.id||e.$id,"number"!=typeof i&&(i=parseFloat(i)),isNaN(i))throw new Error("Got invalid sortidx",i);if(!n._validate_id(e.id))throw new Error("Got invalid id",e.id);a[e.id]=((t={})[r]=i,t)}));var s={};return Object.keys(a).forEach((function(e){var t=a[e];Object.keys(t).forEach((function(r){s[n.previewPath(e)+"/"+r]=t[r]}))})),h("store-write","Updating at",this.previewPath(),"with payload",s),this.rootRef.update(s)},remove:function(e,t){var n=this;if(t=void 0===t?this.defaultDeleteMode===I.SOFT:t,Array.isArray(e)){var r={};return e.forEach((function(e){if(!n._validate_id(e))throw new Error("Got invalid id in remove");t?r[e+"/deleted"]=!0:r[e]=null})),h("store-write","Batch deleting at",this.path,"with payload",r),this.parentRef.update(r)}if(!this._validate_id(e))throw new Error("Got invalid id in remove");return t?(h("store-write","Soft deleting at",this.path,"with",{deleted:!0}),this.update(e,{deleted:!0})):(h("store-write","Hard deleting at",this.path),this.childRef(e).remove())},restore:function(e){return this.update(e,{deleted:!1})},copy:function(e,t,n){return this.move(e,t,n,{keepOriginal:!0,keepId:!1})},move:function(e,t,n,r){var i=this;void 0===r&&(r={});var o=r.keepOriginal;void 0===o&&(o=!1);var a=r.keepId;if(void 0===a&&(a=!0),this.isSuffixed)throw new Error("Suffixed store does not support move");if(!this._validate_id(e))throw new Error("Got invalid id in remove");var s=Object.keys(t).sort(),c=Object.keys(n).sort();if(!de(s,c))throw new Error("Context A and context B do not have equal keys");var u=Object.assign({},this.definedProps,t,{id:e}),l=Object.assign({},this.definedProps,n,{id:e});a||(l.id=this._get_uid());var d=this.templatePath.replace(/\*/,"{id}"),f=O(d,u),m=O(d,l),_=j(f);if(_.length>0)throw new Error("Not all template id's are defined. Required fields are "+_.join(", "));return this._db.ref(f).once("value").then((function(e){return e.val()})).then((function(e){var t={};return t[f]=null,t[m]=e,o&&((t={})[m]=e),h("store-write","Moving data from ",f,"to",m,"with payload",t),i.rootRef.update(t).then((function(){return l.id}))}))},transaction:function(e,t,n,r){var i;if(void 0===r&&(r=1),!this._validate_id(e))throw new Error("Got invalid id in remove");var o=this.childRef(e);if(t&&(this._validate_schema(((i={})[t]=1,i)),o=o.ref.child(t)),"string"==typeof n)switch(n){case"inc":n=function(e){return(e||0)+r};break;case"dec":n=function(e){return(e||0)-r}}if("function"!=typeof n)throw new Error("Transacton must be a function");return h("store-write","Tranaction on",o.path.toString()),o.transaction(n).then((function(e){return e.committed?(h("store-write","Transacton successfully committed"),!0):(h("store-write","Transacton aborted"),!1)}))},new:function(){return x.make_reactive_model(this.modelDefinition,null,this._create_context(),!1)},newFromTemplate:function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);var n=this.empty(e,t),r=x.make_reactive_model(this.modelDefinition,e,this._create_context(),!1);return r._update_data(n,null,!0),r},newFromData:function(e,t){return void 0===e&&(e={}),x.make_reactive_model(this.modelDefinition,e,this._create_context(),!1)},empty:function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=null),!this.modelDefinition)return null;if(!this.modelDefinition.schema||!this.modelDefinition.schema.create)return null;this._check_required_create_arg(e);var n=this.modelDefinition.schema.create(e,t||e,"REALTIMEDB");return this.modelDefinition.schema?this._validate_schema(n,!1):f("model/no-schema","No schema found to validate input"),n},_convert_moment_objects:function(e){if("object"!=typeof e)throw m("moment","Got invalid payload in _convert_moment_objects",e,typeof e),new Error("Expected object, got "+e);for(var t in e)if(E.isMoment(e[t])){if(!e[t].toRealtimeDB)throw new Error("Moment object passed to add/update must be enhanced moment objects.");e[t]=e[t].toRealtimeDB()}else Array.isArray(e[t])?this._convert_moment_objects(e[t]):"object"==typeof e[t]&&this._convert_moment_objects(e[t])}},he=require("slugid"),me=null,_e=null,pe=null,ve={userId:null};function ye(e){var t=e.Vue,n=e.firebase;ve=(ue=t).observable(ve),x.configure({GenericModel:GenericModel,GenericList:GenericList}),pe=n}var ge,be={isAbstract:!1,uidMethod:R.PUSHID,additionalProps:[],defaultDeleteMode:I.HARD,enableTypeValidation:!0,autoUnsubscribe:!0,isReadonly:!1,allowEmptySchema:!0},GenericStore=function(e,t,n){if(void 0===n&&(n={}),n=Object.assign({},be,n),t&&(t.abstract_store||n.isAbstract))this.isAbstract=!0,this.templatePath=e,this.modelDefinition=t,this.definedProps={},this.name="unnamed abstract";else{if(this.isAbstract=!1,this.name="unnamed",!e||e.length<2)throw new Error("Invalid template path:"+e);if("/"!==e[0])throw new Error("Template path has to start with /, got: "+e);if(1!==(e.match(/\*/g)||[]).length)throw new Error("Template path must contain exactly one *, got:"+e);this.isSuffixed=e.indexOf("*")!==e.length-1,"function"==typeof n.uidMethod?(this.uidMethod=R.CUSTOM,this.uidMethodCallback=n.uidMethod):this.uidMethod=n.uidMethod||R.PUSHID,this.additionalProps=n.additionalProps||[],this.defaultDeleteMode=n.defaultDeleteMode}this.enableTypeValidation=n.enableTypeValidation,this.autoUnsubscribe=n.autoUnsubscribe,this.allowEmptySchema=n.allowEmptySchema,this.isReadonly=n.isReadonly,this.templatePath=e,this.modelDefinition=t,this.definedProps={},this._localDB=null,this._clones=[],this.global_store_path_array=[],this.isSuffixed||(this.global_store_path=""),this.isAbstract?(Object.assign(this,{_read_mixin_init:le._read_mixin_init,_write_mixin_init:fe._write_mixin_init}),this._read_mixin_init(),this._write_mixin_init()):(Object.assign(this,le),this._read_mixin_init(),this.isReadonly||(Object.assign(this,fe),this._write_mixin_init()))},we={_db:{configurable:!0},defaultUserId:{configurable:!0},path:{configurable:!0},parentRef:{configurable:!0},rootRef:{configurable:!0},_template_path_field_names:{configurable:!0},schemaFields:{configurable:!0},schemaRequiredFields:{configurable:!0},schemaOptionalFields:{configurable:!0},schemaAllFields:{configurable:!0},_last_caller:{configurable:!0},rules:{configurable:!0}},Ee={defaultUserId:{configurable:!0}};GenericStore.prototype._clone=function(){var e=Object.getPrototypeOf(this),t=Object.create(e),n=Object.assign(t,this);return delete n.getters,delete n._vm,n._read_mixin_init(),this.isReadonly||n._write_mixin_init(!0),n._clones=[],this._clones.push(n),n},GenericStore.prototype.setName=function(e){this.name=e},GenericStore.prototype.generateId=function(){return this._get_uid()},GenericStore.prototype._get_uid=function(){switch(this.uidMethod){case R.SLUGID:return he.nice();case R.PUSHID:return this.rootRef.push().key;case R.TIMESTAMP:return pe.database.ServerValue.TIMESTAMP;case R.LOCAL_TIMESTAMP:return E.currentTime().unix();case R.DATE:return E.currentDate().format("DD-MM-YYYY");case R.OTHER_USER_ID:throw new Error("Please provide id through id override");case R.MY_USER_ID:if(!GenericStore.defaultUserId)throw new Error("User ID is not set, but a store uses USER_ID as key");return GenericStore.defaultUserId;case R.ARRAY:return 0;case R.EMAIL:throw new Error("Only email addresses allowed as key");case R.CUSTOM:var e=this.uidMethodCallback(this.definedProps);if(!e)throw new Error("An ID was not defined. Check custom UID Callback.");return e;default:throw new Error("Unknown UID Method: "+this.uidMethod)}},GenericStore.setDefault=function(e,t){be[e]=t},GenericStore.setDefaultDB=function(e){me=e},we._db.get=function(){return this._localDB||me},GenericStore.prototype._validate_id=function(e){return!(this.uidMethod===R.SLUGID&&!function(e){return _(e)&&e.length&&e.length>=20}(e))&&!(-1===e||!e)},GenericStore.prototype._define_user=function(){GenericStore.defaultUserId&&(this.definedProps.uid=GenericStore.defaultUserId)},Ee.defaultUserId.get=function(){return ve.userId},we.defaultUserId.get=function(){return ve.userId},Ee.defaultUserId.set=function(e){h("store","settings default user id to: uid =",e),ue.set(ve,"userId",e)},GenericStore.resetState=function(){h("store","reset state"),ue.set(ve,"userId",null)},we.path.get=function(){"uid"in this.definedProps||this._define_user();var e=O(this.templatePath,this.definedProps),t=j(e);if(t.length>0)throw new Error("Not all template id's are defined. Required fields are "+t.join(", "));return e.replace(/\*/g,"{id}")},GenericStore.prototype.previewPath=function(e){"uid"in this.definedProps||this._define_user();var t=O(this.templatePath,this.definedProps);return t=e?t.replace(/\*/g,e):t.replace(/\*/,"{id}")},GenericStore.prototype.childRef=function(e){return this._db.ref(this.path.replace(/\{id\}/g,e))},we.parentRef.get=function(){return this._db.ref(this.path.split("{id}").shift())},we.rootRef.get=function(){return this._db.ref()},GenericStore.prototype.define=function(e,t){e.definedProps=Object.assign({},this.definedProps,t);var n=[].concat(this._template_path_field_names,this.additionalProps);for(var r in t)n.includes(r)||f("store/define-unknown-prop","Prop",r,"not found in template path. Known fields are",n);return e},GenericStore.prototype.with=function(e){var t=this._clone();return this.define(t,e)},we._template_path_field_names.get=function(){return j(this.templatePath)},GenericStore.prototype.reset=function(e){void 0===e&&(e=1),1===e&&m("store","resetting",this.name,"with",this._clones.length,"clones"),this.definedProps={},e>3?f("store/reset-max-depth-reached","RESET - Stop at recursion level 3",this._clones):this._clones.forEach((function(t){t.reset(e+1)}))},we.schemaFields.get=function(){var e=((this.modelDefinition||{}).schema||{}).fields;return void 0===e?[]:(Array.isArray(e)||(e=Object.keys(e).map((function(t){return Object.assign({},{model:t},e[t])}))),e)},we.schemaRequiredFields.get=function(){return this.schemaFields.filter((function(e){return e.required})).map((function(e){return e.model}))},we.schemaOptionalFields.get=function(){return this.schemaFields.filter((function(e){return!e.required})).map((function(e){return e.model}))},we.schemaAllFields.get=function(){return this.schemaFields.map((function(e){return e.model}))},GenericStore.prototype._check_required_fields=function(e){this.schemaRequiredFields.forEach((function(t){if(!(t in e))throw new Error("Required field <"+t+"> not present.")}))},GenericStore.prototype._check_required_create_arg=function(e){(((this.modelDefinition||{}).schema||{}).create_required||[]).forEach((function(t){if(!(t in e))throw new Error("Required create argument <"+t+"> not present.")}))},GenericStore.prototype._validate_schema=function(e,t){var n=this;if(!(this.modelDefinition&&this.modelDefinition.schema&&this.modelDefinition.schema.unsafe_disable_validation)){var r=this.schemaFields;if(!(this.allowEmptySchema||r&&0!==r.length))throw new Error('No schema found for "'+this.name+'", please provide one.');t||this._check_required_fields(e);var i=/Map\s*<(\w+),\s*(\w+)>/i,o=/(\w+)\s*\[\]/,a=this.schemaAllFields,s=[],c={};0===r.length?f("model/empty-schema",'Schema for "'+this.name+'" is empty.'):(c=Object.assign.apply(Object,a.map((function(e,t){var r;return e.startsWith("/")&&e.endsWith("/")&&s.push(e),(r={})[e]=n.schemaFields[t],r}))),Object.keys(c).forEach((function(e,t){var r=c[e].type||"";if(i.test(r)){var o="/^"+e+"\\/((?![\\/\\[\\]\\.\\#\\$\\/\\u0000-\\u001F\\u007F]).)*$/";s.push(o),c[o]=n.schemaFields[t]}}))),Object.keys(e).forEach((function(t){var r=s.find((function(e){var n=e.includes("\\u00")?"":"u";return new RegExp(e.substring(1,e.length-1),n).test(t)}));if(!r&&!a.includes(t))throw new Error("Field <"+t+"> is not allowed by schema.");var u=c[r||t];if(u.validator){var l=u.validator(e[t],u,null);if(!l||l.length&&0===l.length)throw new Error('User-defined schema validation failed for key "'+t+'" with error: '+l)}if(n.enableTypeValidation&&!(u.type||"").split("|").some((function(r){var a=r.trim(),s={};o.test(a)&&(s={val:o.exec(a)[1]},a="Array");if(i.test(a)){var c=i.exec(a);s={key:c[1],val:c[2]},a="Map"}return!u.required&&null===e[t]||n._validate_bolt_type(e[t],a,s)})))throw new Error('Type-based schema validation failed for key "'+t+'" with error.')}))}},GenericStore.prototype._validate_bolt_type=function(e,t,n){var r,i=this;switch(void 0===n&&(n={}),t.toLowerCase()){case"string":return _(e);case"number":return p(e);case"boolean":return!0===(r=e)||!1===r;case"object":return v(e)&&y(e)&&!g(e);case"any":return v(e);case"null":return null===e;case"map":return y(e)&&!g(e)&&Object.entries(e).every((function(e){var t=e[0],r=e[1],o=_(t),a=i._validate_bolt_type(r,n.val);return o&&a}));case"array":var o=[];if(g(e))o=e;else{if(!y(e))return!1;o=Object.values(e)}return o.every((function(e){return i._validate_bolt_type(e,n.val)}));default:return f("model/unknown-validation-type","Can not validate type '"+t+"'"),!0}},GenericStore._set_caller=function(e){if(!0!==e._isVue)return!1;_e=e},we._last_caller.get=function(){return _e},we.rules.get=function(){var e=this.modelDefinition.schema.fields;Array.isArray(e)||(e=Object.keys(e).map((function(t){return Object.assign({},{model:t},e[t])})));var t={};return e.forEach((function(e){t[e.model]=[{validator:function(t,n,r){e.validator(n)?r():r(new Error("Invalid input"))},trigger:"blur"}]})),t},Object.defineProperties(GenericStore.prototype,we),Object.defineProperties(GenericStore,Ee);var Ae,Re=((ge={})["heliosrx/INIT_VALUE"]=function(e,t){var n=t.path,r=t.data;return m("registry","[HELIOSRX_INIT_VALUE]",{path:n,data:r}),C(e,n,r)},ge["heliosrx/UNSET_VALUE"]=function(e,t){var n=t.path;return m("registry","[HELIOSRX_UNSET_VALUE]",{path:n}),C(e,n,{".value":null})},ge["heliosrx/ARRAY_ADD"]=function(e,t){var n=t.target,r=t.newId,i=t.data;m("registry","[HELIOSRX_ARRAY_ADD]",{target:n,newId:r,data:i}),N.set(n,r,i)},ge["heliosrx/ARRAY_REMOVE"]=function(e,t){var n=t.target,r=t.oldId;m("registry","[HELIOSRX_ARRAY_REMOVE]",{target:n,oldId:r}),N.delete(n,r)},ge["heliosrx/ARRAY_SET"]=function(e,t){var n=t.target,r=t.currentId,i=t.data,o=t.performMerge;void 0===o&&(o=!1),n[r]?F(n[r],i,!o):n[r]=i},ge["heliosrx/SET"]=function(e,t){var n=t.target,r=t.data,i=t.performMerge;void 0===i&&(i=!1),m("registry","[HELIOSRX_SET]",{target:n,data:r,performMerge:i}),F(n,r,!i)},ge),Ie={strict:!0,state:{initialized:!1,res:{},sync:{},ready:{}},getters:{get_registry_entry:function(e){return function(t){return e.sync[t]}},is_ready:function(e){return function(t){return e.ready[t]||!1}}},mutations:Object.assign({},Re,{INIT_REGISTRY:function(e){e.initialized=!0},RESET_REGISTRY:function(e){m("registry","RESET_REGISTRY"),N.set(e,"sync",{}),N.set(e,"res",{}),N.set(e,"ready",{}),e.initialized=!1},ADD_ENTRY:function(e,t){var n=t.name,r=t.data;m("registry","ADD_ENTRY"),e.sync[n]&&e.sync[n]===r||N.set(e.sync,n,r)},SET_ENTRY_STATUS:function(e,t){var n=t.name,r=t.value;m("registry","SET_ENTRY_STATUS"),e.sync[n][status]&&e.sync[n][status]===r||N.set(e.sync[n],"status",r)},SET_GLOBAL_READY_STATE:function(e,t){var n=t.name,r=t.value;m("registry","SET_GLOBAL_READY_STATE"),e.ready[n]&&e.ready[n]===!!r||N.set(e.ready,n,!!r)},REM_GLOBAL_READY_STATE:function(e,t){var n=t.name;m("registry","REM_GLOBAL_READY_STATE"),N.delete(e.ready,n)}})};function Oe(e){return Ie.name=e,Ie.namespaced=!0,Ie}function je(e){GenericStore.setDefaultDB(e)}function Se(e){var t=e.firebaseAdmin,n=e.Vue||N,r=e.Vuex||D,i="true"===process.env.FUNCTIONS_EMULATOR;if(e.runAsUser)i?(h("common","[initializeApp]","with default config",process.env.FIREBASE_CONFIG),t.initializeApp({credential:t.credential.applicationDefault()})):t.initializeApp();else{var o=e.firebaseConfig;h("common","[initializeApp]","config",o),t.initializeApp(o)}var a=t.database();if(je(a),$({Vue:n,models:e.models,db:a}),ye({Vue:n,firebase:t}),n&&r){n.use(r);var s=new r.Store(Oe("heliosRX"));$({Vuex:r,registry:s}),s.commit("INIT_REGISTRY")}}var heliosRX=function(){};return heliosRX.install=function(){},heliosRX.setup=function(e){return Se(e),heliosRX},heliosRX.version="0.2.4",heliosRX.install=function e(t,n){if(!e.installed||Ae!==t){if(e.installed=!0,h("common","Installing Generic API plugin"),!n)throw new Error('heliosRX: Missing configuration. Did you supply config with Vue.use("heliosRx", {...})?');if(!n.db)throw new Error('heliosRX: Missing configuration "db".');if(!n.models)throw new Error('heliosRX: Missing configuration "models".');Ae=t,$({Vue:t,models:n.models,db:n.db});var r,o=n.db;if(ye({Vue:t,firebase:n.firebase||n.db.app.firebase_}),!o.app||!o.app.database)throw"object"==typeof o?new Error("heliosRX: Multi-DB configuration not implemented yet."):new Error("heliosRX: Invalid configuration for db.");if(GenericStore.setDefaultDB(n.db),n.useExistingStore){var a=n.useExistingStore;throw a.registerModule("heliosrx",Oe("heliosRX")),$({Vuex:D,registry:a}),new Error("heliosRX: Custom state management not fully implemented.")}(t._installedPlugins||[]).forEach((function(e){e.Store&&e.mapActions&&f("common/common","Existing Vuex detected. Consider using 'useExistingStore'. See heliosRX documentation.")})),t.use(D),r=new D.Store(Oe("heliosRX")),$({Vuex:D,registry:r}),r.commit("INIT_REGISTRY"),Object.defineProperty(t.prototype,"$models",{get:function(){return GenericStore._set_caller(this),n.models}});var s={};n.userApi&&(s=n.userApi),Object.defineProperty(t.prototype,"$api",{get:function(){return s}}),n.devMode?(i.setDefaultLevel("info"),i.setLevel("info"),i.getLogger("store-write").setLevel("trace")):(i.setDefaultLevel("warn"),i.setLevel("warn"));var c="false"===process.env.VUE_APP_PRODUCTION&&process.browser;(!0===n.devMode||void 0===n.devMode&&c)&&(window.$models=n.models,window.$db=n.db,window.$api=s,window.$registry=r)}},heliosRX.getRegistry=function(){return S},heliosRX.registryModule=Oe,heliosRX.moment=E,heliosRX.GenericStore=GenericStore,heliosRX.UIDMethod=R,heliosRX.DeleteMode=I,heliosRX.setDefaultDB=je,heliosRX.setDefaultUser=function(e){if(null!==GenericStore.defaultUserId)throw new Error("Call resetGenericStores before setting the default user id");GenericStore.defaultUserId=e},heliosRX.resetGenericStores=function(e){void 0===e&&(e=!0),GenericStore.resetState();var t=T,n=function(n){var r=t[n],i=r.subscriptions;r.reset(),e&&i&&Object.keys(i).forEach((function(e){var t=i[e];h("common","Calling unsubscribe for",n,":",e),t()}))};for(var r in t)n(r)},(heliosRX.heliosLogger=i).channels=l,heliosRX}));