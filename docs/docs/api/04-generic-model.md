# Generic Model

::: warning Work in Progress (20/1/2020)
This section is still a work in progress. It will be updated soon.
:::

## Properties

```
$ready       = false;
/* This promise will resolve once the data is ready */
$promise     = Promise.resolve();
$state       = {};
$dirty       = {};
$invalid     = {};
$id          = null;
$idx         = null;
$noaccess    = null;
_store_name  = name;
```

## Autogenerated properties

...

## Getters

#### get $key
- **`$key ⇒ string`**

Returns a key that can be used for `v-for` loops:

```vue
<li v-for="task in tasklist.items" :key="$key">
  {{task.name}}
</li>
```

#### get $vm
- **`$vm ⇒ Vue`**

(This is only available, if the model definition has getters)

```js
get $vm()
```

#### get $model
- **`$model ⇒ GenericStore`**

Returns the Generic Store which created the model.

```js
get $model()
```

#### get $isValid
- **`$isValid ⇒ boolean`**

```js
$isValid
```
#### get $exists
- **`$exists ⇒ boolean`**

```js
$exists
```

## Methods

#### constructor
- **`constructor( ModelDefinition, object, string ) ⇒  GenericModel`**

```js
constructor( schema, data, name ) {}
```

#### clone
- **`clone() ⇒ GenericModel`**

```js
clone()
```

#### write
- **`write() ⇒ Promise`**

```js
write()
```

#### reset
- **`reset() ⇒ null`**

```js
reset()
```

#### update
- **`update( [soft_delete: boolean] ) ⇒ Promise`**

soft_delete is by default `true`!

```js
// Update single fields
model.update({ key: 'value' })
model.update({ 'address/zipcode': 12345 })
```

#### setValidationBehaviour

- **`setValidationBehaviour( string ) ⇒ null`**

Valid values are `ERROR`, `WARNING`, `ELEMENT_VALIDATION`, `NONE`

```js
model.setValidationBehaviour('ERROR')
```
